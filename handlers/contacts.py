from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import ContextTypes


CONTACTS_MENU = ReplyKeyboardMarkup(
    [
        ["ğŸ› ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ÑĞµĞ»ĞµĞ½Ğ¸Ñ"],
        ["ğŸ—‚ ĞœĞ¤Ğ¦"],
        ["ğŸš° ĞœĞ£ĞŸ Ğ–ĞšĞ¥ Ğ•Ğ»Ñ…Ğ¾Ğ²ÑĞºĞ¾Ğµ"],
        ["ğŸ¢ Ğ£Ğš Ğ›ÑĞ¼Ğ±Ğ¸Ñ€ÑŒĞºĞ¾Ğ¼Ğ¶Ğ¸Ğ»ÑĞµÑ€Ğ²Ğ¸Ñ"],
        ["ğŸ¥ Ğ‘Ğ¾Ğ»ÑŒÑˆĞµĞµĞ»Ñ…Ğ¾Ğ²ÑĞºĞ°Ñ Ğ°Ğ¼Ğ±ÑƒĞ»Ğ°Ñ‚Ğ¾Ñ€Ğ¸Ñ"],
        ["ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´"],
    ],
    resize_keyboard=True
)


async def show_contacts(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # ğŸ”¥ Ğ’ĞšĞ›Ğ®Ğ§ĞĞ•Ğœ Ğ Ğ•Ğ–Ğ˜Ğœ ĞšĞĞĞ¢ĞĞšĞ¢ĞĞ’
    context.user_data.clear()
    context.user_data["contacts_mode"] = True

    await update.message.reply_text(
        "ğŸ“ *ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹*\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:",
        parse_mode="Markdown",
        reply_markup=CONTACTS_MENU
    )


async def contacts_text_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not context.user_data.get("contacts_mode"):
        return False

    text = update.message.text

    data = {
        "ğŸ› ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ÑĞµĞ»ĞµĞ½Ğ¸Ñ": (
            "ğŸ› *ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ÑĞµĞ»ĞµĞ½Ğ¸Ñ*\n\n"
            "ğŸ“ Ñ. Ğ‘Ğ¾Ğ»ÑŒÑˆĞ°Ñ Ğ•Ğ»Ñ…Ğ¾Ğ²ĞºĞ°, ÑƒĞ». Ğ¤Ğ°Ğ±Ñ€Ğ¸Ñ‡Ğ½Ğ°Ñ, 21\n"
            "ğŸ•˜ ĞŸĞ½â€“ĞŸÑ‚: 08:30â€“17:30\n"
            "ĞŸĞµÑ€ĞµÑ€Ñ‹Ğ²: 13:00â€“14:00\n"
            "Ğ¡Ğ±â€“Ğ’Ñ: Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹"
        ),
        "ğŸ—‚ ĞœĞ¤Ğ¦": (
            "ğŸ—‚ *ĞœĞ¤Ğ¦*\n\n"
            "ğŸ“ ÑƒĞ». Ğ¤Ğ°Ğ±Ñ€Ğ¸Ñ‡Ğ½Ğ°Ñ, 21\n"
            "ğŸ•˜ ĞŸĞ½â€“ĞŸÑ‚: 08:30â€“17:00\n"
            "Ğ¡Ğ±â€“Ğ’Ñ: Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹"
        ),
        "ğŸš° ĞœĞ£ĞŸ Ğ–ĞšĞ¥ Ğ•Ğ»Ñ…Ğ¾Ğ²ÑĞºĞ¾Ğµ": (
            "ğŸš° *ĞœĞ£ĞŸ Ğ–ĞšĞ¥ Ğ•Ğ»Ñ…Ğ¾Ğ²ÑĞºĞ¾Ğµ*\n\n"
            "ğŸ“ Ñ. Ğ›ÑĞ¼Ğ±Ğ¸Ñ€ÑŒ, ÑƒĞ». ĞŸĞ¾Ğ»ĞµĞ²Ğ°Ñ, 17\n"
            "ğŸ•˜ ĞŸĞ½â€“ĞŸÑ‚: 08:00â€“17:00\n"
            "ĞŸĞµÑ€ĞµÑ€Ñ‹Ğ²: 12:00â€“13:00"
        ),
        "ğŸ¢ Ğ£Ğš Ğ›ÑĞ¼Ğ±Ğ¸Ñ€ÑŒĞºĞ¾Ğ¼Ğ¶Ğ¸Ğ»ÑĞµÑ€Ğ²Ğ¸Ñ": (
            "ğŸ¢ *Ğ£Ğš Ğ›ÑĞ¼Ğ±Ğ¸Ñ€ÑŒĞºĞ¾Ğ¼Ğ¶Ğ¸Ğ»ÑĞµÑ€Ğ²Ğ¸Ñ*\n\n"
            "ğŸ“ ÑƒĞ». Ğ—Ğ°Ğ²Ğ¾Ğ´ÑĞºĞ°Ñ, 1\n"
            "ğŸ•˜ ĞŸĞ½â€“ĞŸÑ‚: 07:45â€“16:30\n"
            "ĞŸĞµÑ€ĞµÑ€Ñ‹Ğ²: 12:00â€“13:00"
        ),
        "ğŸ¥ Ğ‘Ğ¾Ğ»ÑŒÑˆĞµĞµĞ»Ñ…Ğ¾Ğ²ÑĞºĞ°Ñ Ğ°Ğ¼Ğ±ÑƒĞ»Ğ°Ñ‚Ğ¾Ñ€Ğ¸Ñ": (
            "ğŸ¥ *Ğ‘Ğ¾Ğ»ÑŒÑˆĞµĞµĞ»Ñ…Ğ¾Ğ²ÑĞºĞ°Ñ Ğ°Ğ¼Ğ±ÑƒĞ»Ğ°Ñ‚Ğ¾Ñ€Ğ¸Ñ*\n\n"
            "ğŸ“ ÑƒĞ». Ğ˜Ğ¼ĞµÑ€ÑĞºĞ¾Ğ²Ğ°, 33\n"
            "ğŸ•˜ ĞŸĞ½â€“ĞŸÑ‚: 09:00â€“18:00"
        ),
    }

    if text == "ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´":
        context.user_data.clear()
        return False  # Ğ²ĞµÑ€Ğ½Ñ‘Ğ¼ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¼ĞµĞ½Ñ

    if text in data:
        await update.message.reply_text(
            data[text],
            parse_mode="Markdown"
        )
        return True

    return False
